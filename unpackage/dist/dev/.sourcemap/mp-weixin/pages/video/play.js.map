{"version":3,"sources":["uni-app:///main.js","webpack:///E:/柏萱/项目管理/盼盼短剧/开源版本/vignette-video/pages/video/play.vue?aa71","webpack:///E:/柏萱/项目管理/盼盼短剧/开源版本/vignette-video/pages/video/play.vue?65c5","webpack:///E:/柏萱/项目管理/盼盼短剧/开源版本/vignette-video/pages/video/play.vue?77b5","webpack:///E:/柏萱/项目管理/盼盼短剧/开源版本/vignette-video/pages/video/play.vue?5c05","uni-app:///pages/video/play.vue","webpack:///E:/柏萱/项目管理/盼盼短剧/开源版本/vignette-video/pages/video/play.vue?ccb8","webpack:///E:/柏萱/项目管理/盼盼短剧/开源版本/vignette-video/pages/video/play.vue?2586"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","VideoMenu","VideoPay","data","current","currentTime","currentPrice","prevTime","duration","isDrag","dragStarTime","dragEndTime","isPlaying","isPlayError","clickNum","clickTimer","isShowMenu","isShowPay","isNeedToPay","isLoading","barHeight","isLastPage","originData","originIndex","oldIndex","circular","videoInfo","id","title","cover","length","collect","isCollect","share","videoData","videoIndex","isLandscape","computed","lockCount","watch","onLoad","onUnload","onHide","onShareAppMessage","path","imageUrl","onShareTimeline","query","methods","saveVideoProgress","vid","episode_id","type","view_time","changeOriginIndex","getVideoMenu","initSwiperData","videoList","swiperChange","beforePlay","platform","videoPlay","video","videoPause","videoEnded","console","videoError","videoClick","VideoLoadedmetadata","width","height","getVideoCtx","handleLikes","handleCollect","ids","sliderChange","sliderChanging","videoTimeUpdate"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACsC;;;AAGzF;AACqL;AACrL,gBAAgB,iLAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6PAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,yQAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvFA;AAAA;AAAA;AAAA;AAA2rB,CAAgB,koBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;AC6I/sB;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAC;IAAAC;IAAAC;EAAA;EACAC;IACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;MACAC;MACAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEAC;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEAC;IACA;EACA;;EACAC,wDACA,uDACA;IACAC;MACA;QAAA;MAAA;MACA;IACA;EAAA,EACA;EACAC;IACA;IACArB;MACA;QACA;MACA;IACA;IACAK;MAEA;QACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;MACA;IAEA;EACA;EACAiB;IACA;IACA;MACA;MACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IAEA;MACAf;MACAgB;MACAC;IACA;EAEA;EACAC;IAEA;MACAlB;MACAmB;MACAF;IACA;EAEA;EACAG;IACA;IACAC;MACA;MACA;QACA;UACAC;UACAC;UACAC;UACAC;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QAAA5B;MAAA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;UAEA;YACA;YAEA;cAAA;YAAA;YACA;YACA;YAEA;UACA;QACA;MACA;IACA;IACA;IACA6B;MAAA;MAAA;MACA;MACA;MACAC;MACAA;MACAA;MACA;MAEA;QACA;MACA;MACA;QACA;MACA;MAGA;QACA;MACA;QACA;MACA;MACA;;MAGA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QAsBA;QACA;MACA;QASA;MAEA;IACA;IACA;IACAC;MACA;MACA;MACA;QACA;QACA;QACA;QACA;MACA;QACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;MACA;QACAT;QACAC;QACAS;MACA;MAEA;QACA;UACA;UACA;UACA;QAsBA;UACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACAD;MACA;IACA;IACA;IACAE;MACA;QACAC;MACA;QAoBA;UACA;QACA;UACA;QACA;MAEA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACA;UACAF;QACA;UACAA;UACA;YACA;UACA;YACA;UACA;QACA;QACA;MACA;IACA;IACA;IACAG;MACA;QAAAC;QAAAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;QACArB;QACAC;MACA;MACA;QACA;UACA;YACA;YACA;UACA;YACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAqB;MAAA;MACA;QACA;UACAvB;UACAE;QACA;QACA;UACA;YACA;YACA;UACA;QACA;MACA;QACA;UACAsB;UACAtB;QACA;QACA;UACA;YACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAuB;MACA;MACA;MACA;MACA;MACA;MACA;QACA;QACAb;QACA;QACAA;MACA;IACA;IACA;IACAc;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QAAAxE;QAAAG;MACA;MACA;MACA;MACA;MACA;QACA;QACA;QACAsD;QACA;MACA;MACA;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AChkBA;AAAA;AAAA;AAAA;AAAs0C,CAAgB,ypCAAG,EAAC,C;;;;;;;;;;;ACA11C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/video/play.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/video/play.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./play.vue?vue&type=template&id=4a879cfe&scoped=true&\"\nvar renderjs\nimport script from \"./play.vue?vue&type=script&lang=js&\"\nexport * from \"./play.vue?vue&type=script&lang=js&\"\nimport style0 from \"./play.vue?vue&type=style&index=0&id=4a879cfe&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a879cfe\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/video/play.vue\"\nexport default component.exports","export * from \"-!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play.vue?vue&type=template&id=4a879cfe&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uLoadingIcon: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loading-icon/u-loading-icon\" */ \"@/uview-ui/components/u-loading-icon/u-loading-icon.vue\"\n      )\n    },\n    uSafeBottom: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-safe-bottom/u-safe-bottom\" */ \"@/uview-ui/components/u-safe-bottom/u-safe-bottom.vue\"\n      )\n    },\n    uNotify: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-notify/u-notify\" */ \"@/uview-ui/components/u-notify/u-notify.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !_vm.isDrag && !_vm.isNeedToPay && _vm.videoData.length\n  var a0 = {\n    title: _vm.videoInfo.title,\n    length: _vm.videoInfo.length,\n  }\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.isShowMenu = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.isShowMenu = true\n    }\n    _vm.e2 = function ($event) {\n      ;(_vm.isPlaying = true),\n        (_vm.isLoading = false),\n        (_vm.isPlayError = false)\n    }\n    _vm.e3 = function ($event) {\n      _vm.isShowMenu = true\n    }\n    _vm.e4 = function ($event) {\n      _vm.isShowMenu = false\n    }\n    _vm.e5 = function ($event) {\n      _vm.isShowPay = true\n    }\n    _vm.e6 = function ($event) {\n      _vm.isShowPay = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        a0: a0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play.vue?vue&type=script&lang=js&\"","\n<template>\n\t<view class=\"page_content\">\n\t\t<view class=\"head_content\" v-if=\"!isDrag\">\n\t\t\t<CustomNavbar lText=\"剧场\" color=\"#fff\"></CustomNavbar>\n\t\t</view>\n\t\t<view class=\"vmask\" v-if=\"isNeedToPay\">\n\t\t\t<image class=\"bg\" :src=\"videoInfo.cover\" mode=\"aspectFill\"></image>\n\t\t\t<view class=\"centerinfo\">\n\t\t\t\t<view class=\"text\">本集为付费内容 继续收看请</view>\n\t\t\t\t<view class=\"btn\" @click=\"beforePlay\">解锁剧情</view>\n\t\t\t</view>\n\t\t\t<view class=\"infobox\">\n\t\t\t\t<view class=\"content\">\n\t\t\t\t\t<view class=\"left\">\n\t\t\t\t\t\t<text class=\"text1\">{{ videoInfo.title }}</text>\n\t\t\t\t\t\t<text class=\"text2\">{{ videoData[videoIndex].name }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"right\" @click=\"isShowMenu = true\">选集</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"vmask\" v-if=\"isLastPage\">\n\t\t\t<image class=\"bg\" :src=\"videoInfo.cover\" mode=\"aspectFill\"></image>\n\t\t\t<view class=\"centerinfo\">\n\t\t\t\t<view class=\"text\">本集为付费内容 请按剧集顺序点播 <br> 已解锁{{ lockCount }}集</view>\n\t\t\t\t<view class=\"btn\" @click=\"changeOriginIndex(lockCount)\">解锁下一集剧情</view>\n\t\t\t</view>\n\t\t\t<view class=\"infobox\">\n\t\t\t\t<view class=\"content\">\n\t\t\t\t\t<view class=\"left\">\n\t\t\t\t\t\t<text class=\"text1\">{{ videoInfo.title }}</text>\n\t\t\t\t\t\t<text class=\"text2\">{{ videoData[videoIndex].name }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"right\" @click=\"isShowMenu = true\">选集</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"main_content\" :style=\"[{ paddingTop: barHeight + 'px' }]\">\n\t\t\t<swiper class=\"swiper\" :circular=\"circular\" :vertical=\"true\" :duration=\"300\" :current=\"current\" @change=\"swiperChange\">\n\t\t\t\t<block v-for=\"(item, index) in videoData\" :key=\"index\">\n\t\t\t\t\t<swiper-item class=\"swiper_item\">\n\t\t\t\t\t\t<view class=\"videos\" v-if=\"videoIndex == index\" @click=\"videoClick\">\n\t\t\t\t\t\t\t<!-- #ifdef H5 -->\n\t\t\t\t\t\t\t<video class=\"video\" v-if=\"!isNeedToPay\" :id=\"'vplayer' + index\" :ref=\"'vplayer' + index\"\n\t\t\t\t\t\t\t\t:loop=\"false\" :controls=\"false\" :autoplay=\"false\" :object-fit=\"isLandscape ? 'contain' : 'cover'\"\n\t\t\t\t\t\t\t\t:enable-progress-gesture=\"true\" :show-center-play-btn=\"false\" :src=\"item.url\" :poster=\"item.image\"\n\t\t\t\t\t\t\t\t@play=\"isPlaying = true, isPlayError = false\" @pause=\"isPlaying = false\" @timeupdate=\"videoTimeUpdate\"\n\t\t\t\t\t\t\t\t@ended=\"videoEnded\" @error=\"videoError\" @loadedmetadata=\"VideoLoadedmetadata\">\n\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t\t<!-- #endif -->\n\t\t\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\n\t\t\t\t\t\t\t<video class=\"video\" v-if=\"!isNeedToPay\" :id=\"'vplayer' + index\" :ref=\"'vplayer' + index\"\n\t\t\t\t\t\t\t\t:loop=\"false\" :controls=\"false\" :autoplay=\"videoIndex == index\" :object-fit=\"isLandscape ? 'contain' : 'cover'\"\n\t\t\t\t\t\t\t\t:enable-progress-gesture=\"true\" :show-center-play-btn=\"false\" :src=\"item.url\"\n\t\t\t\t\t\t\t\t@play=\"isPlaying = true, isLoading = false, isPlayError = false\" @timeupdate=\"videoTimeUpdate\"\n\t\t\t\t\t\t\t\t@ended=\"videoEnded\" @error=\"videoError\" @loadedmetadata=\"VideoLoadedmetadata\">\n\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t\t<!-- #endif -->\n\t\t\t\t\t\t\t<view class=\"verror\" v-if=\"isPlayError\">\n\t\t\t\t\t\t\t\t<image class=\"image\" :src=\"videoInfo.cover\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t\t\t<view class=\"content\">\n\t\t\t\t\t\t\t\t\t<u-icon name=\"info-circle-fill\" color=\"#fff\" size=\"50\"></u-icon>\n\t\t\t\t\t\t\t\t\t<text class=\"text\">非常抱歉，视频播放出错啦！</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"vcover\" v-else>\n\t\t\t\t\t\t\t<image class=\"image\" :src=\"videoInfo.cover\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\n\t\t\t\t\t\t<view class=\"vmask loading\" v-if=\"isLoading && !isNeedToPay && videoIndex == index\">\n\t\t\t\t\t\t\t<image class=\"bg\" :src=\"videoInfo.cover\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t\t<view class=\"centerinfo\">\n\t\t\t\t\t\t\t\t<u-loading-icon mode=\"circle\" :size=\"30\"></u-loading-icon>\n\t\t\t\t\t\t\t\t<view class=\"text\">努力加载中....</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<!-- #endif -->\n\t\t\t\t\t\t<view class=\"buttons\" v-if=\"!isDrag && !isNeedToPay && !isPlayError && videoIndex == index\">\n\t\t\t\t\t\t\t<u-icon v-if=\"!isPlaying\" name=\"play-right-fill\" color=\"rgba(255, 255, 255, 0.8)\" :size=\"60\"></u-icon>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"sidebar\" v-if=\"!isDrag && !isNeedToPay && !isPlayError && videoIndex == index\">\n\t\t\t\t\t\t\t<view class=\"item\" @click=\"handleLikes(item.id, index)\">\n\t\t\t\t\t\t\t\t<image class=\"image\" :src=\"`/static/icons/likes_${item.is_like ? 1 : 0 }.png`\" mode=\"widthFix\"></image>\n\t\t\t\t\t\t\t\t<text class=\"text\" :class=\"{ active: item.is_like }\">{{ item.likes }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"item\" @click=\"handleCollect\">\n\t\t\t\t\t\t\t\t<image class=\"image\" :src=\"`/static/icons/collect_${videoInfo.isCollect ? 1 : 0 }.png`\" mode=\"widthFix\"></image>\n\t\t\t\t\t\t\t\t<text class=\"text\" :class=\"{ active: videoInfo.isCollect }\">{{ videoInfo.collect }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\n\t\t\t\t\t\t\t<view class=\"item\">\n\t\t\t\t\t\t\t\t<button class=\"btn\" open-type=\"share\" >\n\t\t\t\t\t\t\t\t\t<image class=\"image\" src=\"/static/icons/share_0.png\" mode=\"widthFix\"></image>\n\t\t\t\t\t\t\t\t\t<text class=\"text\">{{ videoInfo.share }}</text>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<!-- #endif -->\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"progress\" v-if=\"!isNeedToPay && duration > 0 && videoIndex == index\">\n\t\t\t\t\t\t\t<view class=\"bartext\" v-if=\"isDrag\">\n\t\t\t\t\t\t\t\t<text class=\"text1\">{{ dragStarTime }}</text>\n\t\t\t\t\t\t\t\t<text class=\"text0\">/</text>\n\t\t\t\t\t\t\t\t<text class=\"text2\">{{ dragEndTime }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"barview\" :class=\"{ active: isDrag }\">\n\t\t\t\t\t\t\t\t<slider :value=\"currentTime\" :min=\"0\" :max=\"duration\"\n\t\t\t\t\t\t\t\t\t:blockSize=\"6\" backgroundColor=\"#333\" activeColor=\"#fff\"\n\t\t\t\t\t\t\t\t\t@change=\"sliderChange\" @changing=\"sliderChanging\">\n\t\t\t\t\t\t\t\t</slider>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</swiper-item>\n\t\t\t\t</block>\n\t\t\t</swiper>\n\t\t\t<view class=\"infobox\" v-if=\"!isDrag && !isNeedToPay && videoData.length\">\n\t\t\t\t<view class=\"content\">\n\t\t\t\t\t<view class=\"left\">\n\t\t\t\t\t\t<text class=\"text1\">{{ videoInfo.title }}</text>\n\t\t\t\t\t\t<text class=\"text2\">{{ originData[originIndex].name }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"right\" @click=\"isShowMenu = true\">选集</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<VideoMenu\n\t\t\t\t:show=\"isShowMenu\" :info=\"{ title: videoInfo.title, length: videoInfo.length }\" :data=\"originData\" :current=\"originIndex\"\n\t\t\t\t@selected=\"changeOriginIndex\" @close=\"isShowMenu = false\" @showpay=\"isShowPay = true\">\n\t\t\t</VideoMenu>\n\t\t\t<VideoPay :show=\"isShowPay\" :price=\"currentPrice\" @close=\"isShowPay = false\"></VideoPay>\n\t\t</view>\n\t\t<view class=\"footer_content\">\n\t\t\t<u-safe-bottom></u-safe-bottom>\n\t\t</view>\n\t\t<u-notify ref=\"uNotify\"></u-notify>\n\t</view>\n</template>\n\n<script>\n\timport VideoMenu from './components/VideoMenu.vue'\n\timport VideoPay from './components/VideoPay.vue'\n\timport { mapState, mapGetters, mapMutations, mapActions } from \"vuex\"\n\texport default {\n\t\tcomponents: { VideoMenu, VideoPay },\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcurrent: 0,\n\t\t\t\tcurrentTime: 0, // 当前视频播放进度\n\t\t\t\tcurrentPrice: 0, // 当前视频积分\n\t\t\t\tprevTime: 0, // 上次视频进度\n\t\t\t\t\n\t\t\t\tduration: 0, // 当前视频总时长\n\t\t\t\tisDrag: false, // 拖动进度条状态\n\t\t\t\tdragStarTime: \"00:00\", // 拖拽开始时长\n\t\t\t\tdragEndTime: \"00:00\", // 拖拽结束时长\n\t\t\t\t\n\t\t\t\tisPlaying: false, // 播放状态\n\t\t\t\tisPlayError: false, // 播放错误\n\t\t\t\t\n\t\t\t\tclickNum: 0, // 点击次数\n\t\t\t\tclickTimer: null, // 点击定时器\n\n\t\t\t\tisShowMenu: false, // 显示菜单\n\t\t\t\tisShowPay: false, // 显示支付\n\t\t\t\t\n\t\t\t\tisNeedToPay: false, // 需要支付\n\t\t\t\tisLoading: true, // 加载中\n\t\t\t\tbarHeight: uni.getSystemInfoSync().statusBarHeight,\n\t\t\t\tisLastPage: false, // 最后一页\n\n\t\t\t\toriginData: [], // 源数据\n\t\t\t\toriginIndex: 0, // 源数据索引\n\t\t\t\toldIndex: 0, // 源数据上一次索引\n\t\t\t\tcircular: true, // swiper首尾循环\n\t\t\t\t\n\t\t\t\tvideoInfo: { id: '', title: '', cover: '', length: '', collect: 0, isCollect: 0, share: 0 },\n\t\t\t\tvideoData: [], // 渲染数据\n\t\t\t\tvideoIndex: 0, // 渲染数据索引\n\n\t\t\t\tisLandscape: false, // 是否横屏\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\t...mapGetters(\"user\", [\"token\", \"userInfo\"]),\n\t\t\t...mapGetters(\"app\", [\"videoAutoplay\"]),\n\t\t\tlockCount() {\n\t\t\t\tconst count = this.originData.findIndex(item => !item.url)\n\t\t\t\treturn count\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\t// 付费\n\t\t\tisNeedToPay(newValue, oldValue) {\n\t\t\t\tif(newValue) {\n\t\t\t\t\tthis.isShowPay = true\n\t\t\t\t}\n\t\t\t},\n\t\t\toriginIndex(newValue, oldValue) {\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\tif(newValue == 0) {\n\t\t\t\t\tthis.circular = false\n\t\t\t\t}\n\t\t\t\tif(newValue == 0 && this.videoIndex != 0) {\n\t\t\t\t\tthis.originIndex = 0\n\t\t\t\t\tthis.videoIndex = 0\n\t\t\t\t\tthis.videoData = []\n\t\t\t\t\tthis.videoData[0] = this.originData[0]\n\t\t\t\t\tthis.videoData[1] = this.originData[1]\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t}\n\t\t},\n\t\tonLoad(option) {\n\t\t\tthis.winWidth = uni.getSystemInfoSync().windowWidth + 'px'\n\t\t\tif(option.id) {\n\t\t\t\tthis.videoInfo.id = option.id\n\t\t\t\tthis.getVideoMenu()\n\t\t\t}\n\t\t},\n\t\tonUnload() {\n\t\t\tthis.saveVideoProgress()\n\t\t},\n\t\tonHide() {\n\t\t\tthis.saveVideoProgress()\n\t\t},\n\t\tonShareAppMessage(res) {\n\t\t\t// #ifdef MP-WEIXIN\n\t\t\treturn {\n\t\t\t\ttitle: this.videoInfo.title,\n\t\t\t\tpath: `/pages/video/play?scene=${this.shareData.spm}&id=${this.videoInfo.id}`,\n\t\t\t\timageUrl: this.videoInfo.cover\n\t\t\t}\n\t\t\t// #endif\n\t\t},\n\t\tonShareTimeline(res) {\n\t\t\t// #ifdef MP-WEIXIN\n\t\t\treturn {\n\t\t\t\ttitle: this.videoInfo.title,\n\t\t\t\tquery: `scene=${this.shareData.spm}&id=${this.videoInfo.id}`,\n\t\t\t\timageUrl: this.videoInfo.cover\n\t\t\t}\n\t\t\t// #endif\n\t\t},\n\t\tmethods: {\n\t\t\t// 保存视频进度\n\t\t\tsaveVideoProgress() {\n\t\t\t\tif(!this.token) return\n\t\t\t\tif(!this.isNeedToPay) {\n\t\t\t\t\tconst obj = {\n\t\t\t\t\t\tvid: this.videoInfo.id,\n\t\t\t\t\t\tepisode_id: this.videoData[this.videoIndex].id,\n\t\t\t\t\t\ttype: 'log',\n\t\t\t\t\t\tview_time: this.currentTime\n\t\t\t\t\t}\n\t\t\t\t\tthis.$request('video.addRecord', obj, false)\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 选集\n\t\t\tchangeOriginIndex(index) {\n\t\t\t\tthis.originIndex = index\n\t\t\t\tthis.initSwiperData(index)\n\t\t\t},\n\t\t\t// 获取节目单\n\t\t\tgetVideoMenu() {\n\t\t\t\tthis.$request('video.menu', { id: this.videoInfo.id }).then(res => {\n\t\t\t\t\tif(res.code === 1) {\n\t\t\t\t\t\tthis.videoInfo.title = res.data.title\n\t\t\t\t\t\tthis.videoInfo.cover = res.data.image\n\t\t\t\t\t\tthis.videoInfo.length = res.data.episodes\n\t\t\t\t\t\tthis.videoInfo.collect = res.data.favorites\n\t\t\t\t\t\tthis.videoInfo.isCollect = res.data.is_favorite\n\t\t\t\t\t\tthis.videoInfo.share = res.data.shares\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(res.data.episodes_list && res.data.episodes_list.length) {\n\t\t\t\t\t\t\tthis.prevTime = res.data.view_time\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tconst index = res.data.episode_id ? res.data.episodes_list.findIndex(item => item.id == res.data.episode_id) : 0\n\t\t\t\t\t\t\tthis.originIndex = index != -1 ? index : 0\n\t\t\t\t\t\t\tthis.originData = res.data.episodes_list\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.initSwiperData(this.originIndex, 1)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 初始化swiper数据\n\t\t\tinitSwiperData(originIndex = this.originIndex, init = 0) {\n\t\t\t\tconst originDataLength = this.originData.length;\n\t\t\t\tconst videoList = [];\n\t\t\t\tvideoList[this.videoIndex] = this.originData[originIndex];\n\t\t\t\tvideoList[this.videoIndex - 1 == -1 ? 2 : this.videoIndex - 1] = this.originData[originIndex - 1 == -1 ? originDataLength - 1 : originIndex - 1];\n\t\t\t\tvideoList[this.videoIndex + 1 == 3 ? 0 : this.videoIndex + 1] = this.originData[originIndex + 1 == originDataLength ? 0 : originIndex + 1];\n\t\t\t\tthis.videoData = videoList;\n\t\t\t\t\n\t\t\t\tif (this.oldIndex >= this.originData.length) {\n\t\t\t\t\tthis.oldIndex = 0\n\t\t\t\t}\n\t\t\t\tif (this.oldIndex < 0) {\n\t\t\t\t\tthis.oldIndex = this.originData.length - 1\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\tif(this.originIndex == 0) {\n\t\t\t\t\tthis.circular = false\n\t\t\t\t} else {\n\t\t\t\t\tthis.circular = true\n\t\t\t\t}\n\t\t\t\tthis.isLoading = true\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// 重置进度条状态\n\t\t\t\tthis.duration = 0\n\t\t\t\tthis.currentTime = 0\n\t\t\t\tthis.isDrag = false\n\t\t\t\tthis.isPlayError = false\n\t\t\t\tthis.isLastPage = false\n\t\t\t\t// 本集价格\n\t\t\t\tthis.currentPrice = Number(this.videoData[this.videoIndex].price)\n\t\t\t\t// 播放授权\n\t\t\t\tif(this.videoData[this.videoIndex].url) {\n\t\t\t\t\t// #ifdef H5\n\t\t\t\t\tif(this.$utils.platforms() === 'wxOfficialAccount' && uni.getSystemInfoSync().platform == 'ios') {\n\t\t\t\t\t\tWeixinJSBridge.invoke('getNetworkType', {}, (e) => {\n\t\t\t\t\t\t    this.videoPlay()\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(this.videoAutoplay == 1) {\n\t\t\t\t\t\t\tconst timer = setTimeout(() => {\n\t\t\t\t\t\t\t\tthis.videoPlay()\n\t\t\t\t\t\t\t\tclearTimeout(timer)\n\t\t\t\t\t\t\t}, 500)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(init != 1) {\n\t\t\t\t\t\t\t\tconst timer = setTimeout(() => {\n\t\t\t\t\t\t\t\t\tthis.videoPlay()\n\t\t\t\t\t\t\t\t\tclearTimeout(timer)\n\t\t\t\t\t\t\t\t}, 500)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// #endif\n\t\t\t\t\tthis.isNeedToPay = false\n\t\t\t\t\tthis.saveVideoProgress()\n\t\t\t\t} else {\n\t\t\t\t\t// #ifdef H5\n\t\t\t\t\tif(this.originIndex == this.originData.length - 1 && this.originIndex != this.originData.findIndex(item => !item.url)) {\n\t\t\t\t\t\tthis.isLastPage = true\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.beforePlay(init)\n\t\t\t\t\t}\n\t\t\t\t\t// #endif\n\t\t\t\t\t// #ifndef H5\n\t\t\t\t\tthis.beforePlay(init)\n\t\t\t\t\t// #endif\n\t\t\t\t}\n\t\t\t},\n\t\t\t// swiper切换\n\t\t\tswiperChange(event) {\n\t\t\t\tconst { current } = event.detail;\n\t\t\t\tconst originDataLength = this.originData.length;\n\t\t\t\tif (this.videoIndex - current == 2 || this.videoIndex - current == -1) {\n\t\t\t\t\tthis.originIndex = this.originIndex + 1 == originDataLength ? 0 : this.originIndex + 1;\n\t\t\t\t\tthis.videoIndex = this.videoIndex + 1 == 3 ? 0 : this.videoIndex + 1;\n\t\t\t\t\tthis.oldIndex = this.originIndex - 1\n\t\t\t\t\tthis.initSwiperData(this.originIndex);\n\t\t\t\t} else if (this.videoIndex - current == -2 || this.videoIndex - current == 1) {\n\t\t\t\t\tthis.originIndex = this.originIndex - 1 == -1 ? originDataLength - 1 : this.originIndex - 1;\n\t\t\t\t\tthis.videoIndex = this.videoIndex - 1 == -1 ? 2 : this.videoIndex - 1;\n\t\t\t\t\tthis.oldIndex = this.originIndex + 1\n\t\t\t\t\tthis.initSwiperData(this.originIndex);\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 播放之前\n\t\t\tbeforePlay(init = 0) {\n\t\t\t\tconst obj = {\n\t\t\t\t\tvid: this.videoInfo.id,\n\t\t\t\t\tepisode_id: this.videoData[this.videoIndex].id,\n\t\t\t\t\tplatform: this.$utils.platforms()\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.$request('video.play', obj, false).then(res => {\n\t\t\t\t\tif(res.code === 1) {\n\t\t\t\t\t\tthis.videoData[this.videoIndex].url = res.data.url\n\t\t\t\t\t\tthis.isNeedToPay = false\n\t\t\t\t\t\tthis.isShowPay = false\n\t\t\t\t\t\t// #ifdef H5\n\t\t\t\t\t\tif(this.$utils.platforms() === 'wxOfficialAccount' && uni.getSystemInfoSync().platform == 'ios') {\n\t\t\t\t\t\t\tWeixinJSBridge.invoke('getNetworkType', {}, (e) => {\n\t\t\t\t\t\t\t\tthis.videoPlay()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(this.videoAutoplay == 1) {\n\t\t\t\t\t\t\t\tconst timer = setTimeout(() => {\n\t\t\t\t\t\t\t\t\tthis.videoPlay()\n\t\t\t\t\t\t\t\t\tclearTimeout(timer)\n\t\t\t\t\t\t\t\t}, 500)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif(init != 1) {\n\t\t\t\t\t\t\t\t\tconst timer = setTimeout(() => {\n\t\t\t\t\t\t\t\t\t\tthis.videoPlay()\n\t\t\t\t\t\t\t\t\t\tclearTimeout(timer)\n\t\t\t\t\t\t\t\t\t}, 500)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// #endif\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.isNeedToPay = true\n\t\t\t\t\t\tthis.isShowPay = true\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 播放\n\t\t\tvideoPlay() {\n\t\t\t\tconst video = this.getVideoCtx()\n\t\t\t\tif(!video) return\n\t\t\t\tvideo.play()\n\t\t\t\tthis.isPlaying = true\n\t\t\t},\n\t\t\t// 暂停\n\t\t\tvideoPause() {\n\t\t\t\tconst video = this.getVideoCtx()\n\t\t\t\tif(!video) return\n\t\t\t\tvideo.pause()\n\t\t\t\tthis.isPlaying = false\n\t\t\t},\n\t\t\t// 播放结束\n\t\t\tvideoEnded(e) {\n\t\t\t\tif(this.originIndex == this.originData.length - 1) {\n\t\t\t\t\tconsole.log(\"播放结束\");\n\t\t\t\t} else {\n\t\t\t\t\t// #ifdef H5\n\t\t\t\t\tif(this.$utils.platforms() === 'wxOfficialAccount' && uni.getSystemInfoSync().platform == 'ios') {\n\t\t\t\t\t\tif (this.videoIndex < 2) {\n\t\t\t\t\t\t\tthis.current = this.videoIndex + 1\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.current = 0\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(this.videoAutoplay == 1) {\n\t\t\t\t\t\t\tif (this.videoIndex < 2) {\n\t\t\t\t\t\t\t\tthis.current = this.videoIndex + 1\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.current = 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// #endif\n\t\t\t\t\t\n\t\t\t\t\t// #ifndef H5\n\t\t\t\t\tif (this.videoIndex < 2) {\n\t\t\t\t\t\tthis.current = this.videoIndex + 1\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.current = 0\n\t\t\t\t\t}\n\t\t\t\t\t// #endif\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 播放错误\n\t\t\tvideoError() {\n\t\t\t\tthis.isPlayError = true\n\t\t\t\tthis.isLoading = false\n\t\t\t},\n\t\t\t// 点击\n\t\t\tvideoClick(e) {\n\t\t\t\tthis.clickTimer && clearTimeout(this.clickTimer)\n\t\t\t\tthis.clickNum++\n\t\t\t\tthis.clickTimer = setTimeout(() => {\n\t\t\t\t\tif(this.clickNum >= 2) {\n\t\t\t\t\t\tconsole.log('你双击了')\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('你单击了')\n\t\t\t\t\t\tif(this.isPlaying) {\n\t\t\t\t\t\t\tthis.videoPause()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.videoPlay()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.clickNum = 0\n\t\t\t\t}, 250)\n\t\t\t},\n\t\t\t// 元数据加载完毕\n\t\t\tVideoLoadedmetadata(e) {\n\t\t\t\tconst { width, height } = e.detail\n\t\t\t\tthis.isLandscape = width >= height ? true : false\n\t\t\t},\n\t\t\t// 获取video标签上下文\n\t\t\tgetVideoCtx() {\n\t\t\t\treturn uni.createVideoContext('vplayer'+ this.videoIndex, this)\n\t\t\t},\n\t\t\t// 点赞\n\t\t\thandleLikes(id, index) {\n\t\t\t\tconst obj = {\n\t\t\t\t\tepisode_id: id,\n\t\t\t\t\ttype: 'like'\n\t\t\t\t}\n\t\t\t\tthis.$request('video.likes', obj, false).then(res => {\n\t\t\t\t\tif(res.code === 1) {\n\t\t\t\t\t\tif(this.videoData[index].is_like == 0) {\n\t\t\t\t\t\t\tthis.videoData[index].is_like = 1\n\t\t\t\t\t\t\tthis.videoData[index].likes++\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.videoData[index].is_like = 0\n\t\t\t\t\t\t\tthis.videoData[index].likes--\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 收藏\n\t\t\thandleCollect() {\n\t\t\t\tif(this.videoInfo.isCollect == 0) {\n\t\t\t\t\tconst obj = {\n\t\t\t\t\t\tvid: this.videoInfo.id,\n\t\t\t\t\t\ttype: 'favorite'\n\t\t\t\t\t}\n\t\t\t\t\tthis.$request('video.addRecord', obj, false).then(res => {\n\t\t\t\t\t\tif(res.code === 1) {\n\t\t\t\t\t\t\tthis.videoInfo.isCollect = 1\n\t\t\t\t\t\t\tthis.videoInfo.collect++\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconst obj = {\n\t\t\t\t\t\tids: this.videoInfo.id,\n\t\t\t\t\t\ttype: 'favorite'\n\t\t\t\t\t}\n\t\t\t\t\tthis.$request('video.deleteRecord', obj, false).then(res => {\n\t\t\t\t\t\tif(res.code === 1) {\n\t\t\t\t\t\t\tthis.videoInfo.isCollect = 0\n\t\t\t\t\t\t\tthis.videoInfo.collect--\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 拖拽结束\n\t\t\tsliderChange(e) {\n\t\t\t\tconst video = this.getVideoCtx()\n\t\t\t\tif(!video) return\n\t\t\t\t// 停止拖拽\n\t\t\t\tthis.isDrag = false\n\t\t\t\t// 判断一下是否大于基础时间\n\t\t\t\tif (this.duration > 0.1) {\n\t\t\t\t\t// 跳到指定时间点\n\t\t\t\t\tvideo.seek(e.detail.value)\n\t\t\t\t\t// 并调用播放\n\t\t\t\t\tvideo.play()\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 正在拖拽\n\t\t\tsliderChanging(e) {\n\t\t\t\t// 开始拖拽\n\t\t\t\tthis.isDrag = true\n\t\t\t\t// 刷新时间\n\t\t\t\tthis.dragStarTime = this.$utils.formatTime(e.detail.value)\n\t\t\t\t// 总时间\n\t\t\t\tthis.dragEndTime = this.$utils.formatTime(this.duration)\n\t\t\t},\n\t\t\t// 更新进度\n\t\t\tvideoTimeUpdate(e) {\n\t\t\t\tif(this.isDrag) return\n\t\t\t    const { currentTime, duration } = e.detail\n\t\t\t\t// 当前进度\n\t\t\t\tthis.currentTime = this.prevTime ? this.prevTime : Math.trunc(currentTime)\n\t\t\t\tthis.duration = Math.trunc(duration)\n\t\t\t\t// 上次进度\n\t\t\t\tif(this.prevTime) {\n\t\t\t\t\tconst video = this.getVideoCtx()\n\t\t\t\t\tif(!video) return\n\t\t\t\t\tvideo.seek(this.currentTime)\n\t\t\t\t\tthis.prevTime = 0\n\t\t\t\t}\n\t\t\t\t// 进度文本\n\t\t\t\tthis.dragStarTime = this.$utils.formatTime(this.currentTime)\n\t\t\t\tthis.dragEndTime = this.$utils.formatTime(this.duration)\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.page_content {\n\t\tbackground: #000;\n\t\tposition: relative;\n\t\t\n\t\t.head_content {\n\t\t\twidth: 100%;\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tz-index: 10;\n\t\t}\n\t\t\n\t\t.vmask {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tz-index: 2;\n\t\t\tcolor: #fff;\n\t\t\tbackground: #000;\n\t\t\t\n\t\t\t&.loading {\n\t\t\t\tborder-radius: 16rpx;\n\t\t\t\toverflow: hidden;\n\t\t\t\t\n\t\t\t\t.centerinfo {\n\t\t\t\t\t.text {\n\t\t\t\t\t\tmargin-top: 20rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.bg {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\topacity: 0.3;\n\t\t\t}\n\t\t\t\n\t\t\t.infobox {\n\t\t\t\tposition: absolute;\n\t\t\t\tbottom: 130rpx;\n\t\t\t\tleft: 0;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\t\t\t\n\t\t\t.centerinfo {\n\t\t\t\twidth: 100%;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 40%;\n\t\t\t\tleft: 0;\n\t\t\t\ttext-align: center;\n\t\t\t\t\n\t\t\t\t.text {\n\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t\tmargin-bottom: 30rpx;\n\t\t\t\t\tline-height: 48rpx;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.btn {\n\t\t\t\t\twidth: 300rpx;\n\t\t\t\t\theight: 80rpx;\n\t\t\t\t\tline-height: 80rpx;\n\t\t\t\t\tborder-radius: 80rpx;\n\t\t\t\t\tbackground: #EE7F33;\n\t\t\t\t\tmargin: 0 auto;\n\t\t\t\t\t\n\t\t\t\t\t&:active {\n\t\t\t\t\t\tbackground: rgba(#EE7F33, 0.8);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t.infobox {\n\t\t\twidth: 100%;\n\t\t\tposition: absolute;\n\t\t\tbottom: 30rpx;\n\t\t\tleft: 0;\n\t\t\tz-index: 1;\n\t\t\tfont-size: 32rpx;\n\t\t\tpadding: 0 40rpx;\n\t\t\t\n\t\t\t.content {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\t\n\t\t\t\t.left {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t\t\n\t\t\t\t\t.text1 {\n\t\t\t\t\t\tline-height: 48rpx;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.text2 {\n\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\tcolor: rgba(#fff, 0.5);\n\t\t\t\t\t\tmargin: 0 40rpx;\n\t\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\t\tline-height: 48rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.right {\n\t\t\t\t\tcolor: #EE7F33;\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\tmargin-left: 20rpx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t.main_content {\n\t\t\tposition: relative;\n\t\t\tcolor: #fff;\n\t\t\tbackground: #000;\n\t\t\tpadding-bottom: 100rpx;\n\t\t\t\n\t\t\t.swiper {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tbackground: #000;\n\t\t\t\tborder-radius: 16rpx;\n\t\t\t\toverflow: hidden;\n\t\t\t\t\n\t\t\t\t.swiper_item {\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t\t\n\t\t\t\t\t.videos {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\t\n\t\t\t\t\t\t.video {\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tborder-radius: 16rpx;\n\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvideo {\n\t\t\t\t\t\t\t\tborder-radius: 16rpx;\n\t\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t.verror {\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tbackground: #000;\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\t\tz-index: 1;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t.image {\n\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\t\topacity: 0.3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t.content {\n\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\ttop: 50%;\n\t\t\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\t\t\ttransform: translateY(-50%);\n\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t.text {\n\t\t\t\t\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t\t\t\t\t\tcolor: #fff;\n\t\t\t\t\t\t\t\t\tmargin-top: 40rpx;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.vcover {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\n\t\t\t\t\t\t.image {\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\topacity: 0.3;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.buttons {\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\ttop: 50%;\n\t\t\t\t\t\tleft: 50%;\n\t\t\t\t\t\tz-index: 1;\n\t\t\t\t\t\ttransform: translate(-50%, -50%);\n\t\t\t\t\t\tpointer-events: none;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.sidebar {\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tright: 30rpx;\n\t\t\t\t\t\tbottom: 200rpx;\n\t\t\t\t\t\tz-index: 1;\n\t\t\t\t\t\t\n\t\t\t\t\t\t.item {\n\t\t\t\t\t\t\tmargin-bottom: 40rpx;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t&:last-child {\n\t\t\t\t\t\t\t\tmargin-bottom: 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t.image {\n\t\t\t\t\t\t\t\twidth: 70rpx;\n\t\t\t\t\t\t\t\tmargin: 0 auto;\n\t\t\t\t\t\t\t\topacity: 0.9;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t.text {\n\t\t\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t&.active {\n\t\t\t\t\t\t\t\t\tcolor: #EE7F33;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t.btn {\n\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t\tbackground: transparent;\n\t\t\t\t\t\t\t\tcolor: #fff;\n\t\t\t\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\t\t\tline-height: 40rpx;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t&::after {\n\t\t\t\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t.progress {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tbottom: 20rpx;\n\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\tz-index: 1;\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni-slider {\n\t\t\t\t\t\t\tmargin: 0 36rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tslider {\n\t\t\t\t\t\t\tmargin: 0 36rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t.bartext {\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\tflex-direction: row;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\tfont-size: 40rpx;\n\t\t\t\t\t\t\tmargin-bottom: 60rpx;\n\t\t\t\t\t\t\tfont-weight: 700;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t.text1 {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t.text0 {\n\t\t\t\t\t\t\t\tpadding: 0 8rpx;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t.text2 {\n\t\t\t\t\t\t\t\tcolor: rgba(#fff, 0.5);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t.barview {\n\t\t\t\t\t\t\t@mixin whlt($w, $h, $l, $t) {\n\t\t\t\t\t\t\t\twidth: $w !important;\n\t\t\t\t\t\t\t\theight: $h !important;\n\t\t\t\t\t\t\t\tmargin-left: $l !important;\n\t\t\t\t\t\t\t\tmargin-top: $t !important;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t::v-deep .uni-slider-handle-wrapper .uni-slider-handle,\n\t\t\t\t\t\t\t::v-deep .wx-slider-handle-wrapper .wx-slider-handle {\n\t\t\t\t\t\t\t\t@include whlt(64rpx, 64rpx, -32rpx, -32rpx);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t::v-deep .uni-slider-handle-wrapper,\n\t\t\t\t\t\t\t::v-deep .wx-slider-handle-wrapper {\n\t\t\t\t\t\t\t\theight: 4rpx;\n\t\t\t\t\t\t\t\ttransition: all 0.3s;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t::v-deep .uni-slider-handle-wrapper .uni-slider-thumb,\n\t\t\t\t\t\t\t::v-deep .wx-slider-handle-wrapper .wx-slider-thumb {\n\t\t\t\t\t\t\t\t@include whlt(12rpx, 12rpx, -6rpx, -6rpx);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t&.active {\n\t\t\t\t\t\t\t\t::v-deep .uni-slider-handle-wrapper,\n\t\t\t\t\t\t\t\t::v-deep .wx-slider-handle-wrapper {\n\t\t\t\t\t\t\t\t\theight: 24rpx;\n\t\t\t\t\t\t\t\t\ttransition: all 0.3s;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t::v-deep .uni-slider-handle-wrapper .uni-slider-thumb,\n\t\t\t\t\t\t\t\t::v-deep .wx-slider-handle-wrapper .wx-slider-thumb {\n\t\t\t\t\t\t\t\t\t@include whlt(32rpx, 32rpx, -16rpx, -16rpx);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</style>","import mod from \"-!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play.vue?vue&type=style&index=0&id=4a879cfe&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play.vue?vue&type=style&index=0&id=4a879cfe&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1733898049395\n      var cssReload = require(\"E:/软件下载/Hbx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}